before_script:
  - export GRADLE_USER_HOME=cache/.gradle

cache:
  paths:
    - $GRADLE_USER_HOME/caches/
    - $GRADLE_USER_HOME/wrapper/
    - $GRADLE_USER_HOME/build-cache/

variables:
  USER_FEATURES: User
  STORE_FEAUTURES: Store
  PET_FEATURES: Pet

stages:
  - test

run tests:
  stage: test
  image: gradle:6.8.3-jdk15-openj9
  script:
    - echo "Run tests"
    - echo "gradle test -Dcucumber.filter.tags='@$STORE_FEAUTURES'"
    - gradle test -Dcucumber.filter.tags="@$STORE_FEAUTURES"
  artifacts:
    when: always
    paths:
      - ./target/site/serenity
    expire_in: 1 week



